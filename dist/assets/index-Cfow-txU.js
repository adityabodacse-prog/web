var J=Object.defineProperty;var X=(r,a,i)=>a in r?J(r,a,{enumerable:!0,configurable:!0,writable:!0,value:i}):r[a]=i;var O=(r,a,i)=>X(r,typeof a!="symbol"?a+"":a,i);import{r as v,u as w,j as e,W as Q,b as Z,B as F,G as W,U as B,L as ee,H as te,c as $,d as se,F as G,e as q,S as re,f as ae,M as ne,g as ie,h as le,C as k,i as I,k as R,l as P,D as Y,m as oe,n as ce,o as z,p as de,q as xe,s as me,t as ue,R as ge}from"./react-vendor-DVQ-WUrM.js";import{c as he,R as pe,L as fe,C as ve,X as ye,Y as je,T as be,a as Ne,b as A,E as we,i as Se}from"./vendor-Cdylioga.js";import"./lodash-vendor-DMshjlVr.js";(function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))c(l);new MutationObserver(l=>{for(const n of l)if(n.type==="childList")for(const t of n.addedNodes)t.tagName==="LINK"&&t.rel==="modulepreload"&&c(t)}).observe(document,{childList:!0,subtree:!0});function i(l){const n={};return l.integrity&&(n.integrity=l.integrity),l.referrerPolicy&&(n.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?n.credentials="include":l.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function c(l){if(l.ep)return;l.ep=!0;const n=i(l);fetch(l.href,n)}})();const De="https://your-project-ref.supabase.co",Ae="your-anon-key-here",N=he(De,Ae);function L(){const[r,a]=v.useState(null),[i,c]=v.useState(null),[l,n]=v.useState(!0);v.useEffect(()=>{N.auth.getSession().then(({data:{session:s}})=>{a((s==null?void 0:s.user)??null),s!=null&&s.user&&t(s.user.id),n(!1)});const{data:{subscription:m}}=N.auth.onAuthStateChange(async(s,h)=>{a((h==null?void 0:h.user)??null),h!=null&&h.user?await t(h.user.id):c(null),n(!1)});return()=>m.unsubscribe()},[]);const t=async m=>{try{const{data:s,error:h}=await N.from("user_profiles").select("*").eq("id",m).single();if(h)throw h;c(s)}catch(s){console.error("Error fetching profile:",s)}};return{user:r,profile:i,loading:l,signIn:async(m,s)=>{const{error:h}=await N.auth.signInWithPassword({email:m,password:s});return{error:h}},signOut:async()=>{const{error:m}=await N.auth.signOut();return{error:m}},hasRole:m=>{if(!i)return!1;const s={viewer:1,operator:2,admin:3};return s[i.role]>=s[m]}}}function M(r){const[a,i]=v.useState(null),[c,l]=v.useState(navigator.onLine);return v.useEffect(()=>{const o=localStorage.getItem(`offline_${r}`);if(o)try{i(JSON.parse(o))}catch(m){console.error("Error parsing cached data:",m)}const u=()=>l(!0),f=()=>l(!1);return window.addEventListener("online",u),window.addEventListener("offline",f),()=>{window.removeEventListener("online",u),window.removeEventListener("offline",f)}},[r]),{data:a,isOnline:c,cacheData:o=>{try{localStorage.setItem(`offline_${r}`,JSON.stringify(o)),i(o)}catch(u){console.error("Error caching data:",u)}},clearCache:()=>{localStorage.removeItem(`offline_${r}`),i(null)}}}function E(){const[r,a]=v.useState([]),[i,c]=v.useState(!0),[l,n]=v.useState(null),{data:t,isOnline:o,cacheData:u}=M("alerts");v.useEffect(()=>{f();const d=N.channel("hazard_alerts").on("postgres_changes",{event:"*",schema:"public",table:"hazard_alerts"},p=>{p.eventType==="INSERT"?a(x=>[p.new,...x]):p.eventType==="UPDATE"?a(x=>x.map(y=>y.id===p.new.id?p.new:y)):p.eventType==="DELETE"&&a(x=>x.filter(y=>y.id!==p.old.id))}).subscribe();return()=>{d.unsubscribe()}},[]);const f=async()=>{try{if(c(!0),!o&&(t!=null&&t.alerts)){a(t.alerts),c(!1);return}const{data:d,error:p}=await N.from("hazard_alerts").select("*").order("created_at",{ascending:!1});if(p)throw p;a(d||[]),o&&u({...t,alerts:d||[]})}catch(d){n(d instanceof Error?d.message:"Error fetching alerts"),t!=null&&t.alerts&&a(t.alerts)}finally{c(!1)}};return{alerts:r,loading:i,error:l,isOnline:o,fetchAlerts:f,getActiveAlerts:()=>r.filter(d=>d.is_active),getAlertsByType:d=>r.filter(p=>p.type===d),getAlertsBySeverity:d=>r.filter(p=>p.severity===d),createAlert:async d=>{try{const{data:p,error:x}=await N.from("hazard_alerts").insert([d]).select().single();if(x)throw x;return{data:p,error:null}}catch(p){return{data:null,error:p instanceof Error?p.message:"Error creating alert"}}},updateAlert:async(d,p)=>{try{const{data:x,error:y}=await N.from("hazard_alerts").update(p).eq("id",d).select().single();if(y)throw y;return{data:x,error:null}}catch(x){return{data:null,error:x instanceof Error?x.message:"Error updating alert"}}}}}function Ce({onLanguageChange:r,currentLanguage:a}){const{t:i}=w(),{user:c,profile:l,signOut:n}=L(),{getActiveAlerts:t}=E(),{isOnline:o}=M("app"),f=t().filter(s=>s.severity==="critical"),m=[{code:"en",name:"English"},{code:"es",name:"Español"},{code:"fr",name:"Français"}];return e.jsx("header",{className:"bg-white shadow-sm border-b border-gray-200",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"flex justify-between items-center h-16",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:"w-8 h-8 bg-ocean-600 rounded-lg flex items-center justify-center",children:e.jsx("span",{className:"text-white font-bold text-sm",children:"AA"})})}),e.jsx("div",{children:e.jsx("h1",{className:"text-xl font-semibold text-gray-900",children:i("oceanMonitoring")})})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[o?e.jsx(Q,{className:"w-5 h-5 text-green-500"}):e.jsx(Z,{className:"w-5 h-5 text-red-500"}),e.jsx("span",{className:`text-sm ${o?"text-green-600":"text-red-600"}`,children:i(o?"online":"offline")})]}),e.jsx("div",{className:"relative",children:e.jsxs("button",{className:"relative p-2 text-gray-600 hover:text-gray-900 transition-colors",children:[e.jsx(F,{className:"w-5 h-5"}),f.length>0&&e.jsx("span",{className:"absolute -top-1 -right-1 bg-danger-500 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center animate-pulse",children:f.length})]})}),e.jsxs("div",{className:"relative",children:[e.jsx("select",{value:a,onChange:s=>r(s.target.value),className:"appearance-none bg-transparent border-none text-sm text-gray-600 hover:text-gray-900 focus:outline-none cursor-pointer",children:m.map(s=>e.jsx("option",{value:s.code,children:s.name},s.code))}),e.jsx(W,{className:"w-4 h-4 text-gray-400 pointer-events-none absolute right-0 top-1/2 transform -translate-y-1/2"})]}),c&&e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(B,{className:"w-5 h-5 text-gray-600"}),e.jsxs("div",{className:"text-sm",children:[e.jsx("div",{className:"font-medium text-gray-900",children:(l==null?void 0:l.full_name)||c.email}),e.jsx("div",{className:"text-gray-500 capitalize",children:(l==null?void 0:l.role)||"viewer"})]})]}),e.jsx("button",{onClick:()=>n(),className:"p-2 text-gray-600 hover:text-gray-900 transition-colors",title:i("logout"),children:e.jsx(ee,{className:"w-5 h-5"})})]})]})]})})})}function Re({activeTab:r,onTabChange:a}){const{t:i}=w(),{hasRole:c}=L(),n=[{id:"dashboard",label:i("dashboard"),icon:te,roles:["viewer","operator","admin"]},{id:"sensors",label:i("sensors"),icon:$,roles:["viewer","operator","admin"]},{id:"alerts",label:i("alerts"),icon:F,roles:["viewer","operator","admin"]},{id:"analytics",label:"Analytics",icon:se,roles:["operator","admin"]},{id:"reports",label:i("reports"),icon:G,roles:["operator","admin"]},{id:"system",label:"System Health",icon:q,roles:["admin"]},{id:"settings",label:i("settings"),icon:re,roles:["admin"]}].filter(t=>t.roles.some(o=>c(o)));return e.jsx("aside",{className:"w-64 bg-white shadow-sm border-r border-gray-200 h-full",children:e.jsx("nav",{className:"mt-8",children:e.jsx("div",{className:"px-4 space-y-2",children:n.map(t=>{const o=t.icon,u=r===t.id;return e.jsxs("button",{onClick:()=>a(t.id),className:`w-full flex items-center px-4 py-3 text-sm font-medium rounded-lg transition-colors ${u?"bg-ocean-50 text-ocean-700 border-r-2 border-ocean-600":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"}`,children:[e.jsx(o,{className:`mr-3 h-5 w-5 ${u?"text-ocean-600":"text-gray-400"}`}),t.label]},t.id)})})})})}function Le(){const{t:r}=w(),{signIn:a}=L(),[i,c]=v.useState(""),[l,n]=v.useState(""),[t,o]=v.useState(!1),[u,f]=v.useState(null),m=async s=>{s.preventDefault(),o(!0),f(null);const{error:h}=await a(i,l);h&&f(h.message),o(!1)};return e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-ocean-50 to-ocean-100 py-12 px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"max-w-md w-full space-y-8",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"mx-auto h-16 w-16 bg-ocean-600 rounded-full flex items-center justify-center",children:e.jsx("span",{className:"text-white font-bold text-xl",children:"AA"})}),e.jsx("h2",{className:"mt-6 text-3xl font-bold text-gray-900",children:r("oceanMonitoring")}),e.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"Sign in to access the monitoring dashboard"})]}),e.jsxs("form",{className:"mt-8 space-y-6",onSubmit:m,children:[u&&e.jsx("div",{className:"alert-critical",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(ae,{className:"w-5 h-5 text-danger-500 mr-2"}),e.jsx("span",{className:"text-danger-700",children:u})]})}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:r("email")}),e.jsxs("div",{className:"mt-1 relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(ne,{className:"h-5 w-5 text-gray-400"})}),e.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:i,onChange:s=>c(s.target.value),className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ocean-500 focus:border-ocean-500",placeholder:"Enter your email"})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:r("password")}),e.jsxs("div",{className:"mt-1 relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(ie,{className:"h-5 w-5 text-gray-400"})}),e.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"current-password",required:!0,value:l,onChange:s=>n(s.target.value),className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ocean-500 focus:border-ocean-500",placeholder:"Enter your password"})]})]})]}),e.jsx("div",{children:e.jsxs("button",{type:"submit",disabled:t,className:"group relative w-full flex justify-center py-3 px-4 border border-transparent text-sm font-medium rounded-lg text-white bg-ocean-600 hover:bg-ocean-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-ocean-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:[e.jsx("span",{className:"absolute left-0 inset-y-0 flex items-center pl-3",children:e.jsx(le,{className:"h-5 w-5 text-ocean-500 group-hover:text-ocean-400"})}),t?"Signing in...":r("signIn")]})}),e.jsx("div",{className:"text-center",children:e.jsx("p",{className:"text-sm text-gray-600",children:"Demo credentials: admin@aquaalert.com / admin123"})})]})]})})}function Ee({size:r="md",className:a=""}){const i={sm:"w-4 h-4",md:"w-8 h-8",lg:"w-12 h-12"};return e.jsx("div",{className:`animate-spin rounded-full border-2 border-gray-300 border-t-ocean-600 ${i[r]} ${a}`})}function T({title:r,value:a,icon:i,trend:c,color:l="blue"}){const n={blue:"bg-ocean-50 text-ocean-600",green:"bg-green-50 text-green-600",red:"bg-red-50 text-red-600",yellow:"bg-yellow-50 text-yellow-600"};return e.jsx("div",{className:"card",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:r}),e.jsx("p",{className:"text-2xl font-semibold text-gray-900 mt-1",children:a}),c&&e.jsxs("div",{className:"flex items-center mt-2",children:[e.jsxs("span",{className:`text-sm font-medium ${c.isPositive?"text-green-600":"text-red-600"}`,children:[c.isPositive?"+":"",c.value,"%"]}),e.jsx("span",{className:"text-sm text-gray-500 ml-1",children:"vs last week"})]})]}),e.jsx("div",{className:`p-3 rounded-lg ${n[l]}`,children:e.jsx(i,{className:"w-6 h-6"})})]})})}function C({data:r,parameter:a,title:i,unit:c,color:l="#0ea5e9"}){const n=r.slice(0,50).reverse().map(o=>({time:new Date(o.timestamp).toLocaleTimeString(),value:o[a],timestamp:o.timestamp})),t=o=>[`${o} ${c}`,i];return e.jsxs("div",{className:"card",children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:i}),e.jsx("p",{className:"text-sm text-gray-600",children:"Real-time monitoring"})]}),e.jsx("div",{className:"chart-container",children:e.jsx(pe,{width:"100%",height:"100%",children:e.jsxs(fe,{data:n,children:[e.jsx(ve,{strokeDasharray:"3 3",stroke:"#f0f0f0"}),e.jsx(ye,{dataKey:"time",stroke:"#6b7280",fontSize:12,tickLine:!1}),e.jsx(je,{stroke:"#6b7280",fontSize:12,tickLine:!1,axisLine:!1}),e.jsx(be,{formatter:t,labelStyle:{color:"#374151"},contentStyle:{backgroundColor:"white",border:"1px solid #e5e7eb",borderRadius:"8px",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)"}}),e.jsx(Ne,{type:"monotone",dataKey:"value",stroke:l,strokeWidth:2,dot:!1,activeDot:{r:4,fill:l}})]})})})]})}function _e(){const{t:r}=w(),{getActiveAlerts:a}=E(),i=a().slice(0,5),c=t=>{switch(t){case"critical":return"text-red-600 bg-red-50 border-red-200";case"high":return"text-orange-600 bg-orange-50 border-orange-200";case"medium":return"text-yellow-600 bg-yellow-50 border-yellow-200";case"low":return"text-blue-600 bg-blue-50 border-blue-200";default:return"text-gray-600 bg-gray-50 border-gray-200"}},l=t=>{switch(t){case"critical":case"high":return e.jsx(R,{className:"w-4 h-4"});case"medium":return e.jsx(P,{className:"w-4 h-4"});case"low":return e.jsx(k,{className:"w-4 h-4"});default:return e.jsx(R,{className:"w-4 h-4"})}},n=t=>({tsunami:r("tsunami"),high_waves:r("highWaves"),oil_spill:r("oilSpill"),chemical_pollution:r("chemicalPollution"),biological_pollution:r("biologicalPollution")})[t]||t;return e.jsxs("div",{className:"card",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:r("activeAlerts")}),e.jsxs("span",{className:"text-sm text-gray-500",children:[i.length," active"]})]}),i.length===0?e.jsxs("div",{className:"text-center py-8",children:[e.jsx(k,{className:"w-12 h-12 text-green-500 mx-auto mb-3"}),e.jsx("p",{className:"text-gray-600",children:r("noActiveAlerts")})]}):e.jsx("div",{className:"space-y-3",children:i.map(t=>e.jsx("div",{className:`p-3 rounded-lg border ${c(t.severity)}`,children:e.jsx("div",{className:"flex items-start justify-between",children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("div",{className:"flex-shrink-0 mt-0.5",children:l(t.severity)}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[e.jsx("span",{className:"text-sm font-medium",children:n(t.type)}),e.jsx("span",{className:`px-2 py-0.5 text-xs font-medium rounded-full ${c(t.severity)}`,children:r(t.severity)})]}),e.jsx("p",{className:"text-sm text-gray-700 mb-2",children:t.title}),e.jsxs("div",{className:"flex items-center text-xs text-gray-500",children:[e.jsx(I,{className:"w-3 h-3 mr-1"}),e.jsxs("span",{children:[t.location_lat.toFixed(4),", ",t.location_lng.toFixed(4)]}),e.jsx("span",{className:"mx-2",children:"•"}),e.jsx("span",{children:new Date(t.created_at).toLocaleString()})]})]})]})})},t.id))})]})}delete A.Icon.Default.prototype._getIconUrl;A.Icon.Default.mergeOptions({iconRetinaUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon-2x.png",iconUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon.png",shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-shadow.png"});function V({sensors:r,readings:a,onSensorClick:i}){const c=v.useRef(null),l=v.useRef(null),n=v.useRef([]);return v.useEffect(()=>{if(c.current){if(l.current||(l.current=A.map(c.current).setView([0,0],2),A.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:"© OpenStreetMap contributors"}).addTo(l.current)),n.current.forEach(t=>{var o;(o=l.current)==null||o.removeLayer(t)}),n.current=[],r.forEach(t=>{if(!l.current)return;const o=a.find(h=>h.sensor_id===t.id),u=t.is_active?o?"#10b981":"#f59e0b":"#ef4444",f=A.divIcon({html:`
          <div style="
            background-color: ${u};
            width: 20px;
            height: 20px;
            border-radius: 50%;
            border: 3px solid white;
            box-shadow: 0 2px 4px rgba(0,0,0,0.2);
          "></div>
        `,className:"custom-sensor-marker",iconSize:[20,20],iconAnchor:[10,10]}),m=A.marker([t.location_lat,t.location_lng],{icon:f}).addTo(l.current),s=`
        <div class="p-2">
          <h3 class="font-semibold text-gray-900 mb-2">${t.name}</h3>
          <div class="space-y-1 text-sm">
            <div class="flex justify-between">
              <span class="text-gray-600">Status:</span>
              <span class="${t.is_active?"text-green-600":"text-red-600"}">
                ${t.is_active?"Active":"Inactive"}
              </span>
            </div>
            ${o?`
              <div class="flex justify-between">
                <span class="text-gray-600">Last Reading:</span>
                <span class="text-gray-900">
                  ${new Date(o.timestamp).toLocaleString()}
                </span>
              </div>
              <div class="mt-2 pt-2 border-t border-gray-200">
                <div class="grid grid-cols-2 gap-2 text-xs">
                  <div>pH: ${o.ph.toFixed(2)}</div>
                  <div>Temp: ${o.temperature.toFixed(1)}°C</div>
                  <div>DO: ${o.dissolved_oxygen.toFixed(2)} mg/L</div>
                  <div>Turbidity: ${o.turbidity.toFixed(1)} NTU</div>
                </div>
              </div>
            `:'<div class="text-gray-500 text-sm">No recent data</div>'}
          </div>
        </div>
      `;m.bindPopup(s),i&&m.on("click",()=>i(t)),n.current.push(m)}),r.length>0){const t=new A.FeatureGroup(n.current);l.current.fitBounds(t.getBounds().pad(.1))}return()=>{l.current&&(l.current.remove(),l.current=null)}}},[r,a,i]),e.jsxs("div",{className:"card",children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Sensor Locations"}),e.jsxs("p",{className:"text-sm text-gray-600",children:[r.filter(t=>t.is_active).length," of ",r.length," sensors active"]})]}),e.jsx("div",{ref:c,className:"map-container",style:{minHeight:"400px"}})]})}function H(){const[r,a]=v.useState([]),[i,c]=v.useState([]),[l,n]=v.useState(!0),[t,o]=v.useState(null),{data:u,isOnline:f,cacheData:m}=M("sensors");v.useEffect(()=>{s(),h();const d=N.channel("sensor_readings").on("postgres_changes",{event:"INSERT",schema:"public",table:"sensor_readings"},p=>{c(x=>[p.new,...x.slice(0,999)])}).subscribe();return()=>{d.unsubscribe()}},[]);const s=async()=>{try{if(!f&&(u!=null&&u.sensors)){a(u.sensors);return}const{data:d,error:p}=await N.from("sensors").select("*").order("name");if(p)throw p;a(d||[]),f&&m({...u,sensors:d||[]})}catch(d){o(d instanceof Error?d.message:"Error fetching sensors"),u!=null&&u.sensors&&a(u.sensors)}},h=async()=>{try{if(n(!0),!f&&(u!=null&&u.readings)){c(u.readings),n(!1);return}const{data:d,error:p}=await N.from("sensor_readings").select("*").order("timestamp",{ascending:!1}).limit(1e3);if(p)throw p;c(d||[]),f&&m({...u,readings:d||[]})}catch(d){o(d instanceof Error?d.message:"Error fetching readings"),u!=null&&u.readings&&c(u.readings)}finally{n(!1)}};return{sensors:r,readings:i,loading:l,error:t,isOnline:f,fetchSensors:s,fetchRecentReadings:h,getReadingsBySensor:(d,p=24)=>{const x=new Date(Date.now()-p*60*60*1e3);return i.filter(y=>y.sensor_id===d&&new Date(y.timestamp)>x)},getLatestReading:d=>i.find(p=>p.sensor_id===d)}}function U(){const{t:r}=w(),{sensors:a,readings:i,loading:c}=H(),{getActiveAlerts:l}=E(),n=a.filter(u=>u.is_active),t=l(),o=i.filter(u=>{const f=new Date;return new Date(u.timestamp).toDateString()===f.toDateString()});return c?e.jsx("div",{className:"space-y-6",children:e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[...Array(4)].map((u,f)=>e.jsx("div",{className:"card",children:e.jsx("div",{className:"skeleton h-20 w-full"})},f))})}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[e.jsx(T,{title:r("activeSensors"),value:n.length,icon:$,color:"green",trend:{value:5,isPositive:!0}}),e.jsx(T,{title:r("activeAlerts"),value:t.length,icon:R,color:t.length>0?"red":"green"}),e.jsx(T,{title:r("dataPoints"),value:o.length,icon:Y,color:"blue",trend:{value:12,isPositive:!0}}),e.jsx(T,{title:r("systemStatus"),value:r("online"),icon:q,color:"green"})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[e.jsx(C,{data:i.slice(0,50),parameter:"ph",title:r("ph"),unit:"",color:"#0ea5e9"}),e.jsx(C,{data:i.slice(0,50),parameter:"temperature",title:r("temperature"),unit:"°C",color:"#f59e0b"}),e.jsx(C,{data:i.slice(0,50),parameter:"dissolved_oxygen",title:r("dissolvedOxygen"),unit:"mg/L",color:"#10b981"})]}),e.jsx("div",{className:"space-y-6",children:e.jsx(_e,{})})]}),e.jsx("div",{className:"grid grid-cols-1",children:e.jsx(V,{sensors:a,readings:i})})]})}function Te(){const{t:r}=w(),{sensors:a,readings:i,loading:c,getLatestReading:l,getReadingsBySensor:n}=H(),[t,o]=v.useState(null);if(c)return e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"skeleton h-8 w-48"}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsx("div",{className:"skeleton h-96"}),e.jsx("div",{className:"skeleton h-96"})]})]});const u=m=>{if(!m.is_active)return{status:"offline",color:"text-red-600 bg-red-50"};const s=l(m.id);if(!s)return{status:"no_data",color:"text-yellow-600 bg-yellow-50"};const h=new Date(s.timestamp);return(new Date().getTime()-h.getTime())/(1e3*60*60)>2?{status:"stale",color:"text-yellow-600 bg-yellow-50"}:{status:"online",color:"text-green-600 bg-green-50"}},f=m=>{switch(m){case"online":return r("online");case"offline":return r("offline");case"stale":return"Stale Data";case"no_data":return"No Data";default:return"Unknown"}};return e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:r("sensors")}),e.jsxs("p",{className:"text-gray-600",children:[a.filter(m=>m.is_active).length," of ",a.length," sensors active"]})]})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsx(V,{sensors:a,readings:i,onSensorClick:o}),e.jsxs("div",{className:"card",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Sensor Status"}),e.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:a.map(m=>{const{status:s,color:h}=u(m),b=l(m.id);return e.jsxs("div",{className:`p-4 rounded-lg border cursor-pointer transition-colors ${(t==null?void 0:t.id)===m.id?"border-ocean-300 bg-ocean-50":"border-gray-200 hover:border-gray-300"}`,onClick:()=>o(m),children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx($,{className:"w-5 h-5 text-gray-600"}),e.jsx("span",{className:"font-medium text-gray-900",children:m.name})]}),e.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${h}`,children:f(s)})]}),e.jsxs("div",{className:"flex items-center text-sm text-gray-600 space-x-4",children:[e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(I,{className:"w-4 h-4"}),e.jsxs("span",{children:[m.location_lat.toFixed(4),", ",m.location_lng.toFixed(4)]})]}),b&&e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(P,{className:"w-4 h-4"}),e.jsx("span",{children:new Date(b.timestamp).toLocaleString()})]})]}),b&&e.jsxs("div",{className:"mt-3 grid grid-cols-2 gap-2 text-xs",children:[e.jsxs("div",{children:["pH: ",b.ph.toFixed(2)]}),e.jsxs("div",{children:["Temp: ",b.temperature.toFixed(1),"°C"]}),e.jsxs("div",{children:["DO: ",b.dissolved_oxygen.toFixed(2)," mg/L"]}),e.jsxs("div",{children:["Turbidity: ",b.turbidity.toFixed(1)," NTU"]})]})]},m.id)})})]})]}),t&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"card",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:[t.name," - Detailed View"]}),e.jsx("button",{onClick:()=>o(null),className:"text-gray-500 hover:text-gray-700",children:"×"})]}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:(()=>{const m=l(t.id);return m?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"text-center p-3 bg-gray-50 rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-ocean-600",children:m.ph.toFixed(2)}),e.jsx("div",{className:"text-sm text-gray-600",children:"pH Level"})]}),e.jsxs("div",{className:"text-center p-3 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"text-2xl font-bold text-orange-600",children:[m.temperature.toFixed(1),"°C"]}),e.jsx("div",{className:"text-sm text-gray-600",children:"Temperature"})]}),e.jsxs("div",{className:"text-center p-3 bg-gray-50 rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-green-600",children:m.dissolved_oxygen.toFixed(2)}),e.jsx("div",{className:"text-sm text-gray-600",children:"DO (mg/L)"})]}),e.jsxs("div",{className:"text-center p-3 bg-gray-50 rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-blue-600",children:m.turbidity.toFixed(1)}),e.jsx("div",{className:"text-sm text-gray-600",children:"Turbidity (NTU)"})]})]}):e.jsx("p",{className:"text-gray-500",children:"No recent data available"})})()})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsx(C,{data:n(t.id,24),parameter:"ph",title:"pH Level - 24h",unit:"",color:"#0ea5e9"}),e.jsx(C,{data:n(t.id,24),parameter:"temperature",title:"Temperature - 24h",unit:"°C",color:"#f59e0b"}),e.jsx(C,{data:n(t.id,24),parameter:"dissolved_oxygen",title:"Dissolved Oxygen - 24h",unit:"mg/L",color:"#10b981"}),e.jsx(C,{data:n(t.id,24),parameter:"turbidity",title:"Turbidity - 24h",unit:"NTU",color:"#8b5cf6"})]})]})]})}function ke(){const{t:r}=w(),{alerts:a,loading:i}=E(),[c,l]=v.useState("all"),[n,t]=v.useState("all"),[o,u]=v.useState("");if(i)return e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"skeleton h-8 w-48"}),e.jsx("div",{className:"space-y-4",children:[...Array(5)].map((g,d)=>e.jsx("div",{className:"skeleton h-24 w-full"},d))})]});const f=a.filter(g=>{const d=c==="all"||c==="active"&&g.is_active||c==="resolved"&&!g.is_active,p=n==="all"||g.severity===n,x=o===""||g.title.toLowerCase().includes(o.toLowerCase())||g.description.toLowerCase().includes(o.toLowerCase())||g.type.toLowerCase().includes(o.toLowerCase());return d&&p&&x}),m=g=>{switch(g){case"critical":return"text-red-600 bg-red-50 border-red-200";case"high":return"text-orange-600 bg-orange-50 border-orange-200";case"medium":return"text-yellow-600 bg-yellow-50 border-yellow-200";case"low":return"text-blue-600 bg-blue-50 border-blue-200";default:return"text-gray-600 bg-gray-50 border-gray-200"}},s=g=>{switch(g){case"critical":case"high":return e.jsx(R,{className:"w-5 h-5"});case"medium":return e.jsx(P,{className:"w-5 h-5"});case"low":return e.jsx(k,{className:"w-5 h-5"});default:return e.jsx(R,{className:"w-5 h-5"})}},h=g=>({tsunami:r("tsunami"),high_waves:r("highWaves"),oil_spill:r("oilSpill"),chemical_pollution:r("chemicalPollution"),biological_pollution:r("biologicalPollution")})[g]||g,b=g=>{switch(g){case"tsunami":return"bg-red-100 text-red-800";case"high_waves":return"bg-blue-100 text-blue-800";case"oil_spill":return"bg-gray-100 text-gray-800";case"chemical_pollution":return"bg-purple-100 text-purple-800";case"biological_pollution":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}};return e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:r("alerts")}),e.jsxs("p",{className:"text-gray-600",children:[a.filter(g=>g.is_active).length," active alerts, ",a.length," total"]})]})}),e.jsx("div",{className:"card",children:e.jsxs("div",{className:"flex flex-wrap gap-4 items-center",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(oe,{className:"w-5 h-5 text-gray-600"}),e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Filters:"})]}),e.jsxs("select",{value:c,onChange:g=>l(g.target.value),className:"px-3 py-1 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-ocean-500 focus:border-ocean-500",children:[e.jsx("option",{value:"all",children:"All Alerts"}),e.jsx("option",{value:"active",children:"Active Only"}),e.jsx("option",{value:"resolved",children:"Resolved Only"})]}),e.jsxs("select",{value:n,onChange:g=>t(g.target.value),className:"px-3 py-1 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-ocean-500 focus:border-ocean-500",children:[e.jsx("option",{value:"all",children:"All Severities"}),e.jsx("option",{value:"critical",children:"Critical"}),e.jsx("option",{value:"high",children:"High"}),e.jsx("option",{value:"medium",children:"Medium"}),e.jsx("option",{value:"low",children:"Low"})]}),e.jsx("div",{className:"flex-1 max-w-md",children:e.jsxs("div",{className:"relative",children:[e.jsx(ce,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Search alerts...",value:o,onChange:g=>u(g.target.value),className:"w-full pl-10 pr-3 py-1 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-ocean-500 focus:border-ocean-500"})]})})]})}),e.jsx("div",{className:"space-y-4",children:f.length===0?e.jsxs("div",{className:"card text-center py-12",children:[e.jsx(k,{className:"w-12 h-12 text-green-500 mx-auto mb-3"}),e.jsx("p",{className:"text-gray-600",children:"No alerts match your current filters"})]}):f.map(g=>e.jsx("div",{className:`card border-l-4 ${g.is_active?m(g.severity).replace("bg-","border-").split(" ")[0]:"border-gray-300"} ${g.is_active?"":"opacity-75"}`,children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex items-start space-x-4 flex-1",children:[e.jsx("div",{className:`p-2 rounded-lg ${m(g.severity)}`,children:s(g.severity)}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[e.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${b(g.type)}`,children:h(g.type)}),e.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${m(g.severity)}`,children:r(g.severity)}),!g.is_active&&e.jsx("span",{className:"px-2 py-1 text-xs font-medium rounded-full bg-gray-100 text-gray-600",children:"Resolved"})]}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:g.title}),e.jsx("p",{className:"text-gray-700 mb-3",children:g.description}),e.jsxs("div",{className:"flex items-center text-sm text-gray-500 space-x-4",children:[e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(I,{className:"w-4 h-4"}),e.jsxs("span",{children:[g.location_lat.toFixed(4),", ",g.location_lng.toFixed(4)]})]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(P,{className:"w-4 h-4"}),e.jsx("span",{children:new Date(g.created_at).toLocaleString()})]}),e.jsxs("div",{children:["Radius: ",g.affected_radius,"km"]})]})]})]}),e.jsx("div",{className:"flex items-center space-x-2",children:e.jsx("button",{className:"btn-secondary text-sm",children:r("viewDetails")})})]})},g.id))})]})}function Pe(){const{t:r}=w(),{readings:a}=H(),{alerts:i}=E(),[c,l]=v.useState("daily"),[n,t]=v.useState({start:new Date(Date.now()-24*60*60*1e3).toISOString().split("T")[0],end:new Date().toISOString().split("T")[0]}),[o,u]=v.useState(!1),f=async()=>{u(!0);try{const s=new we,h=s.internal.pageSize.getHeight();s.setFontSize(20),s.text("Aqua Alert - Ocean Monitoring Report",20,30),s.setFontSize(12),s.text(`Report Period: ${n.start} to ${n.end}`,20,45);const b=new Date(n.start),g=new Date(n.end);g.setHours(23,59,59,999);const d=a.filter(y=>{const j=new Date(y.timestamp);return j>=b&&j<=g}),p=i.filter(y=>{const j=new Date(y.created_at);return j>=b&&j<=g});let x=65;if(s.setFontSize(16),s.text("Summary",20,x),x+=15,s.setFontSize(12),s.text(`Total Sensor Readings: ${d.length}`,20,x),x+=10,s.text(`Total Alerts: ${p.length}`,20,x),x+=10,s.text(`Critical Alerts: ${p.filter(y=>y.severity==="critical").length}`,20,x),x+=20,d.length>0){s.setFontSize(16),s.text("Average Sensor Values",20,x),x+=15;const y=d.reduce((S,D)=>S+D.ph,0)/d.length,j=d.reduce((S,D)=>S+D.temperature,0)/d.length,_=d.reduce((S,D)=>S+D.dissolved_oxygen,0)/d.length,K=d.reduce((S,D)=>S+D.turbidity,0)/d.length;s.setFontSize(12),s.text(`pH Level: ${y.toFixed(2)}`,20,x),x+=10,s.text(`Temperature: ${j.toFixed(1)}°C`,20,x),x+=10,s.text(`Dissolved Oxygen: ${_.toFixed(2)} mg/L`,20,x),x+=10,s.text(`Turbidity: ${K.toFixed(1)} NTU`,20,x),x+=20}p.length>0&&(s.setFontSize(16),s.text("Recent Alerts",20,x),x+=15,p.slice(0,10).forEach(y=>{x>h-40&&(s.addPage(),x=30),s.setFontSize(12),s.text(`${y.type.toUpperCase()} - ${y.severity.toUpperCase()}`,20,x),x+=8,s.setFontSize(10),s.text(y.title,25,x),x+=6,s.text(`Location: ${y.location_lat.toFixed(4)}, ${y.location_lng.toFixed(4)}`,25,x),x+=6,s.text(`Date: ${new Date(y.created_at).toLocaleString()}`,25,x),x+=12})),s.setFontSize(8),s.text(`Generated on ${new Date().toLocaleString()}`,20,h-20),s.text("Aqua Alert - Ocean Hazard Monitoring System",20,h-10),s.save(`aqua-alert-report-${n.start}-to-${n.end}.pdf`)}catch(s){console.error("Error generating PDF:",s),alert("Error generating PDF report")}finally{u(!1)}},m=()=>{u(!0);try{const s=new Date(n.start),h=new Date(n.end);h.setHours(23,59,59,999);const b=a.filter(j=>{const _=new Date(j.timestamp);return _>=s&&_<=h}),d=[["Timestamp","Sensor ID","pH","Temperature (°C)","Turbidity (NTU)","Dissolved Oxygen (mg/L)","Conductivity (μS/cm)","Salinity (PSU)","Water Level (m)","Latitude","Longitude"].join(","),...b.map(j=>[j.timestamp,j.sensor_id,j.ph,j.temperature,j.turbidity,j.dissolved_oxygen,j.conductivity,j.salinity,j.water_level,j.location_lat,j.location_lng].join(","))].join(`
`),p=new Blob([d],{type:"text/csv"}),x=window.URL.createObjectURL(p),y=document.createElement("a");y.href=x,y.download=`aqua-alert-data-${n.start}-to-${n.end}.csv`,document.body.appendChild(y),y.click(),document.body.removeChild(y),window.URL.revokeObjectURL(x)}catch(s){console.error("Error generating CSV:",s),alert("Error generating CSV report")}finally{u(!1)}};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"card",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[e.jsx(G,{className:"w-6 h-6 text-ocean-600"}),e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:r("generateReport")})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Report Type"}),e.jsxs("select",{value:c,onChange:s=>l(s.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ocean-500 focus:border-ocean-500",children:[e.jsx("option",{value:"daily",children:"Daily Report"}),e.jsx("option",{value:"weekly",children:"Weekly Report"}),e.jsx("option",{value:"monthly",children:"Monthly Report"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Start Date"}),e.jsx("input",{type:"date",value:n.start,onChange:s=>t(h=>({...h,start:s.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ocean-500 focus:border-ocean-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"End Date"}),e.jsx("input",{type:"date",value:n.end,onChange:s=>t(h=>({...h,end:s.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ocean-500 focus:border-ocean-500"})]})]}),e.jsxs("div",{className:"flex flex-wrap gap-4 mt-6",children:[e.jsxs("button",{onClick:f,disabled:o,className:"btn-primary flex items-center space-x-2",children:[e.jsx(z,{className:"w-4 h-4"}),e.jsx("span",{children:o?"Generating...":"Download PDF Report"})]}),e.jsxs("button",{onClick:m,disabled:o,className:"btn-secondary flex items-center space-x-2",children:[e.jsx(z,{className:"w-4 h-4"}),e.jsx("span",{children:o?"Generating...":"Export CSV Data"})]})]})]}),e.jsxs("div",{className:"card",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Report Preview"}),e.jsx("div",{className:"bg-gray-50 p-4 rounded-lg",children:e.jsxs("div",{className:"space-y-2 text-sm text-gray-600",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Report Period:"})," ",n.start," to ",n.end]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Data Points:"})," ",a.filter(s=>{const h=new Date(s.timestamp);return h>=new Date(n.start)&&h<=new Date(n.end)}).length]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Alerts:"})," ",i.filter(s=>{const h=new Date(s.created_at);return h>=new Date(n.start)&&h<=new Date(n.end)}).length]})]})})]})]})}function Oe(){const{t:r}=w();return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:r("reports")}),e.jsx("p",{className:"text-gray-600",children:"Generate and download comprehensive monitoring reports"})]}),e.jsx(Pe,{})]})}function Fe(){const{t:r}=w(),{profile:a}=L(),[i,c]=v.useState("profile"),l=[{id:"profile",label:"Profile",icon:B},{id:"notifications",label:"Notifications",icon:F},{id:"language",label:"Language",icon:W},{id:"security",label:"Security",icon:de},{id:"system",label:"System",icon:Y}],n=()=>{switch(i){case"profile":return e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Profile Information"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Full Name"}),e.jsx("input",{type:"text",value:(a==null?void 0:a.full_name)||"",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ocean-500 focus:border-ocean-500",readOnly:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),e.jsx("input",{type:"email",value:(a==null?void 0:a.email)||"",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ocean-500 focus:border-ocean-500",readOnly:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Role"}),e.jsx("input",{type:"text",value:(a==null?void 0:a.role)||"",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ocean-500 focus:border-ocean-500 capitalize",readOnly:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Organization"}),e.jsx("input",{type:"text",value:(a==null?void 0:a.organization)||"",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ocean-500 focus:border-ocean-500",readOnly:!0})]})]})]})});case"notifications":return e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Notification Preferences"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-900",children:"Critical Alerts"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Receive notifications for critical hazard alerts"})]}),e.jsx("input",{type:"checkbox",defaultChecked:!0,className:"rounded"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-900",children:"Sensor Offline"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Get notified when sensors go offline"})]}),e.jsx("input",{type:"checkbox",defaultChecked:!0,className:"rounded"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-900",children:"Daily Reports"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Receive daily summary reports"})]}),e.jsx("input",{type:"checkbox",className:"rounded"})]})]})]})});case"language":return e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Language Settings"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Interface Language"}),e.jsxs("select",{className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ocean-500 focus:border-ocean-500",children:[e.jsx("option",{value:"en",children:"English"}),e.jsx("option",{value:"es",children:"Español"}),e.jsx("option",{value:"fr",children:"Français"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Date Format"}),e.jsxs("select",{className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ocean-500 focus:border-ocean-500",children:[e.jsx("option",{value:"mdy",children:"MM/DD/YYYY"}),e.jsx("option",{value:"dmy",children:"DD/MM/YYYY"}),e.jsx("option",{value:"ymd",children:"YYYY-MM-DD"})]})]})]})]})});case"security":return e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Security Settings"}),e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Change Password"}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("input",{type:"password",placeholder:"Current password",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ocean-500 focus:border-ocean-500"}),e.jsx("input",{type:"password",placeholder:"New password",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ocean-500 focus:border-ocean-500"}),e.jsx("input",{type:"password",placeholder:"Confirm new password",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-ocean-500 focus:border-ocean-500"}),e.jsx("button",{className:"btn-primary",children:"Update Password"})]})]})})]})});case"system":return e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"System Information"}),e.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg space-y-2",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Version:"}),e.jsx("span",{className:"font-medium",children:"1.0.0"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Last Updated:"}),e.jsx("span",{className:"font-medium",children:new Date().toLocaleDateString()})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Database Status:"}),e.jsx("span",{className:"font-medium text-green-600",children:"Connected"})]})]})]})});default:return null}};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:r("settings")}),e.jsx("p",{className:"text-gray-600",children:"Manage your account and application preferences"})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[e.jsx("div",{className:"lg:col-span-1",children:e.jsx("div",{className:"card",children:e.jsx("nav",{className:"space-y-2",children:l.map(t=>{const o=t.icon;return e.jsxs("button",{onClick:()=>c(t.id),className:`w-full flex items-center space-x-3 px-3 py-2 text-left rounded-lg transition-colors ${i===t.id?"bg-ocean-50 text-ocean-700":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"}`,children:[e.jsx(o,{className:"w-5 h-5"}),e.jsx("span",{children:t.label})]},t.id)})})})}),e.jsx("div",{className:"lg:col-span-3",children:e.jsx("div",{className:"card",children:n()})})]})]})}const $e={en:{translation:{dashboard:"Dashboard",sensors:"Sensors",alerts:"Alerts",reports:"Reports",settings:"Settings",logout:"Logout",oceanMonitoring:"Ocean Monitoring System",activeSensors:"Active Sensors",activeAlerts:"Active Alerts",dataPoints:"Data Points Today",systemStatus:"System Status",ph:"pH Level",temperature:"Temperature (°C)",turbidity:"Turbidity (NTU)",dissolvedOxygen:"Dissolved Oxygen (mg/L)",conductivity:"Conductivity (μS/cm)",salinity:"Salinity (PSU)",waterLevel:"Water Level (m)",tsunami:"Tsunami",highWaves:"High Waves",oilSpill:"Oil Spill",chemicalPollution:"Chemical Pollution",biologicalPollution:"Biological Pollution",low:"Low",medium:"Medium",high:"High",critical:"Critical",viewDetails:"View Details",downloadReport:"Download Report",exportData:"Export Data",refresh:"Refresh",filter:"Filter",search:"Search",last24Hours:"Last 24 Hours",lastWeek:"Last Week",lastMonth:"Last Month",online:"Online",offline:"Offline",maintenance:"Maintenance",newAlert:"New Alert",alertResolved:"Alert Resolved",noActiveAlerts:"No active alerts",generateReport:"Generate Report",reportGenerated:"Report generated successfully",signIn:"Sign In",signOut:"Sign Out",email:"Email",password:"Password",errorLoadingData:"Error loading data",errorGeneratingReport:"Error generating report",networkError:"Network error - working offline"}},es:{translation:{dashboard:"Panel de Control",sensors:"Sensores",alerts:"Alertas",reports:"Reportes",settings:"Configuración",logout:"Cerrar Sesión",oceanMonitoring:"Sistema de Monitoreo Oceánico",activeSensors:"Sensores Activos",activeAlerts:"Alertas Activas",dataPoints:"Puntos de Datos Hoy",systemStatus:"Estado del Sistema",ph:"Nivel de pH",temperature:"Temperatura (°C)",turbidity:"Turbidez (NTU)",dissolvedOxygen:"Oxígeno Disuelto (mg/L)",conductivity:"Conductividad (μS/cm)",salinity:"Salinidad (PSU)",waterLevel:"Nivel del Agua (m)",tsunami:"Tsunami",highWaves:"Olas Altas",oilSpill:"Derrame de Petróleo",chemicalPollution:"Contaminación Química",biologicalPollution:"Contaminación Biológica",low:"Bajo",medium:"Medio",high:"Alto",critical:"Crítico",viewDetails:"Ver Detalles",downloadReport:"Descargar Reporte",exportData:"Exportar Datos",refresh:"Actualizar",filter:"Filtrar",search:"Buscar",last24Hours:"Últimas 24 Horas",lastWeek:"Última Semana",lastMonth:"Último Mes",online:"En Línea",offline:"Fuera de Línea",maintenance:"Mantenimiento",newAlert:"Nueva Alerta",alertResolved:"Alerta Resuelta",noActiveAlerts:"No hay alertas activas",generateReport:"Generar Reporte",reportGenerated:"Reporte generado exitosamente",signIn:"Iniciar Sesión",signOut:"Cerrar Sesión",email:"Correo Electrónico",password:"Contraseña",errorLoadingData:"Error al cargar datos",errorGeneratingReport:"Error al generar reporte",networkError:"Error de red - trabajando sin conexión"}},fr:{translation:{dashboard:"Tableau de Bord",sensors:"Capteurs",alerts:"Alertes",reports:"Rapports",settings:"Paramètres",logout:"Déconnexion",oceanMonitoring:"Système de Surveillance Océanique",activeSensors:"Capteurs Actifs",activeAlerts:"Alertes Actives",dataPoints:"Points de Données Aujourd'hui",systemStatus:"État du Système",ph:"Niveau de pH",temperature:"Température (°C)",turbidity:"Turbidité (NTU)",dissolvedOxygen:"Oxygène Dissous (mg/L)",conductivity:"Conductivité (μS/cm)",salinity:"Salinité (PSU)",waterLevel:"Niveau d'Eau (m)",tsunami:"Tsunami",highWaves:"Vagues Hautes",oilSpill:"Déversement de Pétrole",chemicalPollution:"Pollution Chimique",biologicalPollution:"Pollution Biologique",low:"Faible",medium:"Moyen",high:"Élevé",critical:"Critique",viewDetails:"Voir les Détails",downloadReport:"Télécharger le Rapport",exportData:"Exporter les Données",refresh:"Actualiser",filter:"Filtrer",search:"Rechercher",last24Hours:"Dernières 24 Heures",lastWeek:"Dernière Semaine",lastMonth:"Dernier Mois",online:"En Ligne",offline:"Hors Ligne",maintenance:"Maintenance",newAlert:"Nouvelle Alerte",alertResolved:"Alerte Résolue",noActiveAlerts:"Aucune alerte active",generateReport:"Générer un Rapport",reportGenerated:"Rapport généré avec succès",signIn:"Se Connecter",signOut:"Se Déconnecter",email:"Email",password:"Mot de Passe",errorLoadingData:"Erreur lors du chargement des données",errorGeneratingReport:"Erreur lors de la génération du rapport",networkError:"Erreur réseau - travail hors ligne"}}};Se.use(xe).init({resources:$e,lng:"en",fallbackLng:"en",interpolation:{escapeValue:!1}});function Ie(){const{i18n:r}=w(),{user:a,loading:i}=L(),[c,l]=v.useState("dashboard"),[n,t]=v.useState("en");v.useEffect(()=>{"serviceWorker"in navigator&&navigator.serviceWorker.register("/sw.js").then(f=>{console.log("SW registered: ",f)}).catch(f=>{console.log("SW registration failed: ",f)})},[]);const o=f=>{t(f),r.changeLanguage(f)};if(i)return e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:e.jsxs("div",{className:"text-center",children:[e.jsx(Ee,{size:"lg"}),e.jsx("p",{className:"mt-4 text-gray-600",children:"Loading Aqua Alert..."})]})});if(!a)return e.jsx(Le,{});const u=()=>{switch(c){case"dashboard":return e.jsx(U,{});case"sensors":return e.jsx(Te,{});case"alerts":return e.jsx(ke,{});case"reports":return e.jsx(Oe,{});case"settings":return e.jsx(Fe,{});default:return e.jsx(U,{})}};return e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx(Ce,{onLanguageChange:o,currentLanguage:n}),e.jsxs("div",{className:"flex h-[calc(100vh-4rem)]",children:[e.jsx(Re,{activeTab:c,onTabChange:l}),e.jsx("main",{className:"flex-1 overflow-auto",children:e.jsx("div",{className:"max-w-7xl mx-auto py-6 px-4 sm:px-6 lg:px-8",children:u()})})]})]})}class Me extends v.Component{constructor(){super(...arguments);O(this,"state",{hasError:!1});O(this,"handleRetry",()=>{this.setState({hasError:!1,error:void 0})})}static getDerivedStateFromError(i){return{hasError:!0,error:i}}componentDidCatch(i,c){console.error("Uncaught error:",i,c)}render(){return this.state.hasError?e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:e.jsxs("div",{className:"max-w-md w-full bg-white rounded-lg shadow-lg p-6 text-center",children:[e.jsx(R,{className:"w-12 h-12 text-red-500 mx-auto mb-4"}),e.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Something went wrong"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"An unexpected error occurred. Please try refreshing the page."}),e.jsxs("button",{onClick:this.handleRetry,className:"btn-primary flex items-center space-x-2 mx-auto",children:[e.jsx(me,{className:"w-4 h-4"}),e.jsx("span",{children:"Try Again"})]}),this.state.error&&e.jsxs("details",{className:"mt-4 text-left",children:[e.jsx("summary",{className:"text-sm text-gray-500 cursor-pointer",children:"Error Details"}),e.jsx("pre",{className:"mt-2 text-xs text-gray-600 bg-gray-50 p-2 rounded overflow-auto",children:this.state.error.message})]})]})}):this.props.children}}ue.createRoot(document.getElementById("root")).render(e.jsx(ge.StrictMode,{children:e.jsx(Me,{children:e.jsx(Ie,{})})}));
//# sourceMappingURL=index-Cfow-txU.js.map
